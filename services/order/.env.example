#
# ORDER SERVICE - Configuration Template
# Copy this file to .env and update with actual values
#

# =
# SERVICE CONFIGURATION
# =

# Server Port (Order Service)
PORT=3003

# Node Environment
NODE_ENV=development

# Service Name
SERVICE_NAME=order-service

# =
# EXTERNAL SERVICE URLs
# =

# Inventory Service
INVENTORY_SERVICE_URL=http://localhost:3005
INVENTORY_SERVICE_TIMEOUT=5000

# Pricing Service
PRICING_SERVICE_URL=http://localhost:3004
PRICING_SERVICE_TIMEOUT=5000

# Catalog Service
CATALOG_SERVICE_URL=http://localhost:3002
CATALOG_SERVICE_TIMEOUT=5000

# Shipping Service
SHIPPING_SERVICE_URL=http://localhost:3007
SHIPPING_SERVICE_TIMEOUT=5000

# Engagement Service
ENGAGEMENT_SERVICE_URL=http://localhost:3008
ENGAGEMENT_SERVICE_TIMEOUT=5000

# =
# PAYMENT GATEWAY CONFIGURATION
# =

# Razorpay Configuration
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret

# Payment Configuration
PAYMENT_TIMEOUT_MINUTES=15
PAYMENT_RETRY_ATTEMPTS=3

# =
# CART & CHECKOUT CONFIGURATION
# =

# Cart Expiry (in hours)
CART_EXPIRY_HOURS=72

# Checkout Session Expiry (in minutes)
CHECKOUT_EXPIRY_MINUTES=30

# Inventory Reservation Duration (in minutes)
INVENTORY_RESERVATION_MINUTES=30

# Maximum Cart Items
MAX_CART_ITEMS=50

# Minimum Order Value
MIN_ORDER_VALUE=0

# =
# ORDER CONFIGURATION
# =

# Order Number Prefix
ORDER_NUMBER_PREFIX=ORD

# Auto-confirm Orders (for testing)
AUTO_CONFIRM_ORDERS=false

# Order Processing Delay (in minutes)
ORDER_PROCESSING_DELAY=5

# =
# RETURN & REFUND CONFIGURATION
# =

# Return Window (in days)
RETURN_WINDOW_DAYS=7

# Refund Processing Days
REFUND_PROCESSING_DAYS=5

# Auto-approve Returns (for testing)
AUTO_APPROVE_RETURNS=false

# =
# PDF GENERATION CONFIGURATION
# =

# Invoice PDF Configuration
INVOICE_PDF_ENABLED=true
INVOICE_TEMPLATE_PATH=./templates/invoice.html

# PDF Storage Path
PDF_STORAGE_PATH=./storage/invoices

# =
# BACKGROUND JOBS CONFIGURATION
# =

# Cart Cleanup Job (every 10 minutes)
CART_CLEANUP_ENABLED=true
CART_CLEANUP_SCHEDULE=*/10 * * * *

# Checkout Cleanup Job (every 5 minutes)
CHECKOUT_CLEANUP_ENABLED=true
CHECKOUT_CLEANUP_SCHEDULE=*/5 * * * *

# Order Status Sync Job (every hour)
ORDER_SYNC_ENABLED=true
ORDER_SYNC_SCHEDULE=0 * * * *

# Payment Reconciliation Job (daily at 2 AM)
PAYMENT_RECONCILIATION_ENABLED=true
PAYMENT_RECONCILIATION_SCHEDULE=0 2 * * *

# Abandoned Cart Email Job (daily at 10 AM)
ABANDONED_CART_EMAIL_ENABLED=true
ABANDONED_CART_EMAIL_SCHEDULE=0 10 * * *

# =
# FEATURE FLAGS
# =

# Enable Coupon System
ENABLE_COUPONS=true

# Enable Automatic Discounts
ENABLE_AUTO_DISCOUNTS=true

# Enable COD Payment Method
ENABLE_COD=true

# Enable Bundle Purchases
ENABLE_BUNDLES=true

# Enable Gift Wrapping
ENABLE_GIFT_WRAP=false

# Enable Order Tracking
ENABLE_ORDER_TRACKING=true

# Enable Email Notifications
ENABLE_EMAIL_NOTIFICATIONS=true

# Enable SMS Notifications
ENABLE_SMS_NOTIFICATIONS=false

# =
# PAGINATION DEFAULTS
# =

# Default Page Number
DEFAULT_PAGE=1

# Default Items Per Page
DEFAULT_LIMIT=20

# Maximum Items Per Page
MAX_LIMIT=100

# =
# SECURITY CONFIGURATION
# =

# Webhook Signature Verification
VERIFY_WEBHOOK_SIGNATURE=true

# Idempotency Enabled
ENABLE_IDEMPOTENCY=true

# Idempotency TTL (in seconds)
IDEMPOTENCY_TTL=86400

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =
# LOGGING CONFIGURATION
# =

# Log Level (debug, info, warn, error)
LOG_LEVEL=info

# Enable Request Logging
ENABLE_REQUEST_LOGGING=true

# Enable Error Tracking
ENABLE_ERROR_TRACKING=true

# =
# NOTES
# =

# 1. All time values are configurable for different environments
# 2. Feature flags allow enabling/disabling features without code changes
# 3. External service URLs must be updated based on deployment environment
# 4. Payment gateway credentials must be kept secure (use secrets management)
# 5. Background job schedules use cron syntax
# 6. Timeouts are in milliseconds unless specified otherwise

# Shipping Bypass Mode (set to true to simulate shipping without calling shipping service)
SHIPPING_BYPASS_MODE=true

# Payment Bypass Mode (set to true to simulate payments without calling Razorpay)
PAYMENT_BYPASS_MODE=true

# Engagement Graceful Degradation (set to true to log notifications instead of calling engagement service)
ENGAGEMENT_GRACEFUL_DEGRADATION=true
